<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Russisch-Trainer: Deklination der Partizipien</title>
    <script src="https://cdn.jsdelivr.net/npm/drag-drop-touch@1.3.1/DragDropTouch.js"></script>
    <style>
        :root {
            --primary: #3498db;
            --secondary: #2c3e50;
            --success: #27ae60;
            --error: #e74c3c;
            --bg: #f4f7f9;
            --card-bg: #ffffff;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg);
            color: var(--secondary);
            margin: 0;
            padding: 10px;
        }

        .container {
            max-width: 900px;
            margin: 20px auto;
            background: var(--card-bg);
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }

        h1, h2 { text-align: center; }
        h1 { border-bottom: 3px solid var(--primary); padding-bottom: 10px; margin-top: 0; }

        .intro-box {
            background-color: #eef7ff;
            padding: 20px;
            border-left: 6px solid var(--primary);
            border-radius: 8px;
            margin-bottom: 30px;
        }

        .exercise-card {
            background: #fff;
            border: 1px solid #ddd;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 10px;
            transition: all 0.3s;
        }

        .context-sentence {
            font-size: 1.2rem;
            margin-bottom: 15px;
            line-height: 1.6;
        }

        .highlight-noun {
            color: var(--primary);
            font-weight: bold;
            border-bottom: 2px dashed var(--primary);
        }

        .options-container {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 15px;
        }

        .option-btn {
            padding: 10px 18px;
            border: 2px solid #bdc3c7;
            background: #fff;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.2s;
        }

        .option-btn:hover { background: #f0f0f0; border-color: #95a5a6; }
        .option-btn.selected { background: var(--secondary); color: white; border-color: var(--secondary); }
        
        /* Feedback-Farben */
        .option-btn.correct { background: var(--success); color: white; border-color: var(--success); }
        .option-btn.incorrect { background: var(--error); color: white; border-color: var(--error); }

        .btn-group {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }

        .action-btn {
            padding: 8px 16px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
            color: white;
            transition: opacity 0.2s;
        }

        .btn-reset { background: #95a5a6; }
        .btn-solve { background: var(--primary); }
        .action-btn:hover { opacity: 0.9; }

        .gram-hint {
            font-size: 0.85rem;
            color: #7f8c8d;
            margin-top: 5px;
            font-style: italic;
        }

        @media (max-width: 600px) {
            .container { padding: 15px; }
            .option-btn { width: 100%; text-align: center; }
        }
    </style>
</head>
<body>

<div class="container">
    <h1>Russische Grammatik</h1>
    <h2>Zwillings-Suche: Partizip & Substantiv</h2>

    <div class="intro-box">
        <p><strong>Anleitung:</strong> Das Partizip muss sich wie ein Adjektiv an sein Bezugswort anpassen. Wähle aus der Liste das Partizip aus, das in <strong>Fall, Zahl und Geschlecht</strong> perfekt zum markierten Substantiv passt.</p>
    </div>

    <div id="exercise-list"></div>
</div>

<script>
    const tasks = [
        {
            id: 1,
            sentence: "Мы говориm о <span class='highlight-noun'>девушке</span>, ... в Москве.",
            hint: "[über die Frau - Präpositional, Feminin, Singular]",
            options: ["живущая", "живущей", "живущую", "живущем"],
            answer: "живущей"
        },
        {
            id: 2,
            sentence: "Я вижу <span class='highlight-noun'>студента</span>, ... книгу.",
            hint: "[sehe den Studenten - Akkusativ (belebt), Maskulin, Singular]",
            options: ["читающий", "читающего", "читающем", "читающим"],
            answer: "читающего"
        },
        {
            id: 3,
            sentence: "Она гуляет с <span class='highlight-noun'>друзьями</span>, ... в банке.",
            hint: "[mit den Freunden - Instrumental, Plural]",
            options: ["работающие", "работающих", "работающими", "работающим"],
            answer: "работающими"
        },
        {
            id: 4,
            sentence: "Мама подошла к <span class='highlight-noun'>ребёнку</span>, ... в кроватке.",
            hint: "[zum Kind - Dativ, Maskulin, Singular]",
            options: ["спящему", "спящий", "спящего", "спящим"],
            answer: "спящему"
        },
        {
            id: 5,
            sentence: "В списке нет <span class='highlight-noun'>мужчины</span>, ... там.",
            hint: "[des Mannes nicht da - Genitiv, Maskulin, Singular]",
            options: ["работающий", "работающего", "работающем", "работающим"],
            answer: "работающего"
        },
        {
            id: 6,
            sentence: "Я любуюсь <span class='highlight-noun'>морем</span>, ... на солнце.",
            hint: "[bewundere das Meer - Instrumental, Neutrum, Singular]",
            options: ["блестящее", "блестящим", "блестящего", "блестящем"],
            answer: "блестящим"
        }
    ];

    function renderTasks() {
        const list = document.getElementById('exercise-list');
        tasks.forEach(task => {
            const card = document.createElement('div');
            card.className = 'exercise-card';
            card.id = `task-${task.id}`;
            card.innerHTML = `
                <div class="context-sentence">${task.sentence}</div>
                <div class="options-container" id="options-${task.id}">
                    ${task.options.map(opt => `
                        <button class="option-btn" onclick="checkAnswer(${task.id}, '${opt}', this)">${opt}</button>
                    `).join('')}
                </div>
                <div class="gram-hint">${task.hint}</div>
                <div class="btn-group">
                    <button class="action-btn btn-reset" onclick="resetTask(${task.id})">Zurücksetzen</button>
                    <button class="action-btn btn-solve" onclick="solveTask(${task.id})">Lösung anzeigen</button>
                </div>
            `;
            list.appendChild(card);
        });
    }

    function checkAnswer(taskId, selectedOpt, btn) {
        const task = tasks.find(t => t.id === taskId);
        const container = document.getElementById(`options-${taskId}`);
        const buttons = container.querySelectorAll('.option-btn');
        
        // Reset previous states
        buttons.forEach(b => b.className = 'option-btn');
        
        if (selectedOpt === task.answer) {
            btn.classList.add('correct');
        } else {
            btn.classList.add('incorrect');
        }
    }

    function resetTask(taskId) {
        const container = document.getElementById(`options-${taskId}`);
        const buttons = container.querySelectorAll('.option-btn');
        buttons.forEach(b => b.className = 'option-btn');
    }

    function solveTask(taskId) {
        const task = tasks.find(t => t.id === taskId);
        const container = document.getElementById(`options-${taskId}`);
        const buttons = container.querySelectorAll('.option-btn');
        
        buttons.forEach(b => {
            b.className = 'option-btn';
            if (b.innerText === task.answer) {
                b.classList.add('correct');
            }
        });
    }

    // Start
    renderTasks();
</script>

</body>
</html>