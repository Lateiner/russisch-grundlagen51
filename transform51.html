<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Russisch-Trainer: Transformations-Slider</title>
    <style>
        :root {
            --primary: #3498db;
            --secondary: #2c3e50;
            --success: #27ae60;
            --error: #e74c3c;
            --bg: #f4f7f9;
            --card-bg: #ffffff;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg);
            color: var(--secondary);
            margin: 0;
            padding: 10px;
        }

        .container {
            max-width: 900px;
            margin: 10px auto;
            background: var(--card-bg);
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }

        h1, h2 { text-align: center; margin-top: 0; }
        h1 { border-bottom: 3px solid var(--primary); padding-bottom: 10px; }

        .intro {
            background-color: #eef7ff;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 25px;
            border-left: 5px solid var(--primary);
        }

        .exercise-card {
            background: #fff;
            border: 1px solid #eee;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }

        /* Satz-Struktur */
        .sentence-display {
            font-size: 1.2rem;
            line-height: 2;
            margin-bottom: 15px;
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            gap: 0 6px;
        }

        .pronoun {
            color: var(--error);
            font-weight: bold;
            transition: all 0.5s ease;
            display: inline-block;
            overflow: hidden;
            white-space: nowrap;
            max-width: 150px;
            opacity: 1;
        }

        .pronoun.hidden {
            max-width: 0;
            opacity: 0;
            margin-right: 0;
        }

        .verb-btn {
            background: #edf2f7;
            border: 2px dashed var(--primary);
            padding: 2px 8px;
            border-radius: 6px;
            cursor: pointer;
            color: var(--primary);
            font-weight: bold;
            transition: all 0.3s;
        }

        .verb-btn.transformed {
            background: transparent;
            border: 2px solid transparent;
            color: var(--success);
            cursor: default;
        }

        /* Auswahl-Menü */
        .options-menu {
            display: none;
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            padding: 12px;
            border-radius: 8px;
            margin-top: 10px;
            animation: slideDown 0.3s ease-out;
        }

        .options-grid {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .opt-btn {
            padding: 6px 12px;
            background: #fff;
            border: 1px solid var(--primary);
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
            color: var(--primary);
            transition: 0.2s;
        }

        .opt-btn:hover { background: var(--primary); color: #fff; }

        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .controls {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .btn-action {
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: bold;
            color: #fff;
        }

        .btn-reset { background: #95a5a6; }
        .btn-solve { background: var(--primary); }

        .feedback {
            font-weight: bold;
            margin-top: 10px;
            min-height: 1.2em;
        }

        @media (max-width: 600px) {
            .sentence-display { font-size: 1.05rem; }
            .opt-btn { width: 100%; text-align: center; }
        }
    </style>
</head>
<body>

<div class="container">
    <h1>Russische Grammatik</h1>
    <h2>Transformations-Slider: Который → Partizip</h2>

    <div class="intro">
        <strong>Anleitung:</strong> Klicke auf das <u>blau umrandete Verb</u>, um die passende Partizip-Form zu wählen. Bei Erfolg verschwindet das Wort „который“ und der Satz transformiert sich visuell.
    </div>

    <div id="exercise-list"></div>
</div>

<script>
    const tasks = [
        {
            id: 1,
            pre: "Студент,",
            pronoun: "который",
            verb: "читает",
            post: "книгу, мой друг.",
            options: ["читающий", "читающая", "читающее"],
            correct: "читающий",
            hint: "Maskulin Singular (Студент)"
        },
        {
            id: 2,
            pre: "Девушка,",
            pronoun: "которая",
            verb: "живёт",
            post: "в Москве, моя сестра.",
            options: ["живущий", "живущая", "живущее"],
            correct: "живущая",
            hint: "Feminin Singular (Девушка)"
        },
        {
            id: 3,
            pre: "Письмо,",
            pronoun: "которое",
            verb: "лежит",
            post: "на столе, от отца.",
            options: ["лежащий", "лежащая", "лежащее"],
            correct: "лежащее",
            hint: "Neutrum Singular (Письмо)"
        },
        {
            id: 4,
            pre: "Люди,",
            pronoun: "которые",
            verb: "работают",
            post: "здесь, очень добрые.",
            options: ["работающие", "работающая", "работающий"],
            correct: "работающие",
            hint: "Plural (Люди)"
        },
        {
            id: 5,
            pre: "Мужчина,",
            pronoun: "который",
            verb: "работает",
            post: "в банке, мой дядя.",
            options: ["работающая", "работающий", "работающее"],
            correct: "работающий",
            hint: "Maskulin Singular (Мужчина)"
        },
        {
            id: 6,
            pre: "Женщина,",
            pronoun: "которая",
            verb: "поёт",
            post: "на сцене, знаменита.",
            options: ["поющий", "поющая", "поющее"],
            correct: "поющая",
            hint: "Feminin Singular (Женщина)"
        },
        {
            id: 7,
            pre: "Дети,",
            pronoun: "которые",
            verb: "играют",
            post: "в саду, шумят.",
            options: ["играющие", "играющий", "играющая"],
            correct: "играющие",
            hint: "Plural (Дети)"
        },
        {
            id: 8,
            pre: "Магазин,",
            pronoun: "который",
            verb: "открывается",
            post: "рано, уже закрыт.",
            options: ["открывающийся", "открывающаяся", "открывающееся"],
            correct: "открывающийся",
            hint: "Maskulin Singular (Магазин)"
        },
        {
            id: 9,
            pre: "Студентка,",
            pronoun: "которая",
            verb: "знает",
            post: "ответ, молодец.",
            options: ["знающий", "знающая", "знающие"],
            correct: "знающая",
            hint: "Feminin Singular (Студентка)"
        },
        {
            id: 10,
            pre: "Солнце,",
            pronoun: "которое",
            verb: "светит",
            post: "ярко, радует нас.",
            options: ["светящий", "светящая", "светящее"],
            correct: "светящее",
            hint: "Neutrum Singular (Солнце)"
        }
    ];

    function init() {
        const container = document.getElementById('exercise-list');
        tasks.forEach(task => {
            const card = document.createElement('div');
            card.className = 'exercise-card';
            card.id = `card-${task.id}`;
            
            card.innerHTML = `
                <div class="sentence-display">
                    <span>${task.pre}</span>
                    <span class="pronoun" id="pronoun-${task.id}">${task.pronoun}</span>
                    <span class="verb-btn" id="verb-${task.id}" onclick="showMenu(${task.id})">${task.verb}</span>
                    <span>${task.post}</span>
                </div>
                <div class="options-menu" id="menu-${task.id}">
                    <p><small>${task.hint}</small></p>
                    <div class="options-grid">
                        ${task.options.map(opt => `
                            <button class="opt-btn" onclick="selectOpt(${task.id}, '${opt}')">${opt}</button>
                        `).join('')}
                    </div>
                </div>
                <div class="feedback" id="feedback-${task.id}"></div>
                <div class="controls">
                    <button class="btn-action btn-reset" onclick="resetTask(${task.id})">Zurücksetzen</button>
                    <button class="btn-action btn-solve" onclick="solveTask(${task.id})">Lösung</button>
                </div>
            `;
            container.appendChild(card);
        });
    }

    function showMenu(id) {
        const verbBtn = document.getElementById(`verb-${id}`);
        if (verbBtn.classList.contains('transformed')) return;
        
        // Alle anderen Menüs schließen
        document.querySelectorAll('.options-menu').forEach(m => m.style.display = 'none');
        
        document.getElementById(`menu-${id}`).style.display = 'block';
    }

    function selectOpt(id, selected) {
        const task = tasks.find(t => t.id === id);
        const feedback = document.getElementById(`feedback-${id}`);
        const menu = document.getElementById(`menu-${id}`);
        const pronoun = document.getElementById(`pronoun-${id}`);
        const verbBtn = document.getElementById(`verb-${id}`);

        if (selected === task.correct) {
            feedback.innerText = "Richtig! ✨";
            feedback.style.color = "var(--success)";
            menu.style.display = 'none';
            
            // Transformation
            pronoun.classList.add('hidden');
            verbBtn.innerText = selected;
            verbBtn.classList.add('transformed');
        } else {
            feedback.innerText = "Falsche Form, probier es noch einmal!";
            feedback.style.color = "var(--error)";
        }
    }

    function resetTask(id) {
        const task = tasks.find(t => t.id === id);
        const pronoun = document.getElementById(`pronoun-${id}`);
        const verbBtn = document.getElementById(`verb-${id}`);
        const feedback = document.getElementById(`feedback-${id}`);
        const menu = document.getElementById(`menu-${id}`);

        pronoun.classList.remove('hidden');
        verbBtn.innerText = task.verb;
        verbBtn.classList.remove('transformed');
        feedback.innerText = "";
        menu.style.display = 'none';
    }

    function solveTask(id) {
        const task = tasks.find(t => t.id === id);
        selectOpt(id, task.correct);
    }

    init();
</script>

</body>
</html>